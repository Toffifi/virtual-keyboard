!function(e){var n={};function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(i,o,function(n){return e[n]}.bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=4)}([function(e,n,t){var i=t(1),o=t(2);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1},r=(i(o,a),o.locals?o.locals:{});e.exports=r},function(e,n,t){"use strict";var i,o=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},a=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),r=[];function d(e){for(var n=-1,t=0;t<r.length;t++)if(r[t].identifier===e){n=t;break}return n}function u(e,n){for(var t={},i=[],o=0;o<e.length;o++){var a=e[o],u=n.base?a[0]+n.base:a[0],l=t[u]||0,s="".concat(u," ").concat(l);t[u]=l+1;var f=d(s),c={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(r[f].references++,r[f].updater(c)):r.push({identifier:s,updater:p(c,n),references:1}),i.push(s)}return i}function l(e){var n=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var o=t.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(e){n.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(n);else{var r=a(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}return n}var s,f=(s=[],function(e,n){return s[e]=n,s.filter(Boolean).join("\n")});function c(e,n,t,i){var o=t?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=f(n,o);else{var a=document.createTextNode(o),r=e.childNodes;r[n]&&e.removeChild(r[n]),r.length?e.insertBefore(a,r[n]):e.appendChild(a)}}function m(e,n,t){var i=t.css,o=t.media,a=t.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var h=null,b=0;function p(e,n){var t,i,o;if(n.singleton){var a=b++;t=h||(h=l(n)),i=c.bind(null,t,a,!1),o=c.bind(null,t,a,!0)}else t=l(n),i=m.bind(null,t,n),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return i(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;i(e=n)}else o()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=o());var t=u(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<t.length;i++){var o=d(t[i]);r[o].references--}for(var a=u(e,n),l=0;l<t.length;l++){var s=d(t[l]);0===r[s].references&&(r[s].updater(),r.splice(s,1))}t=a}}}},function(e,n,t){(n=t(3)(!1)).push([e.i,"body{max-width:1020px;margin:0 auto;font-family:'Lato', sans-serif}.field{margin:10px 0}.field textarea{resize:none;font-size:20px;padding:10px}.keyboard{display:flex;flex-wrap:wrap;background-color:#1a1a1a}.keyboard-button,.keyboard-button_double{color:white;background-color:#333;transition:all 0.2s ease 0s;text-align:center;margin:0.2%;display:flex;justify-content:center;align-items:center;font-size:22px;height:50px;overflow:hidden}.keyboard-button:hover,.keyboard-button_double:hover{cursor:pointer;background-color:white;color:black}.keyboard-button:active,.keyboard-button_double:active{color:white;background-color:#038487}.keyboard .active{color:white;background-color:#038487}.keyboard-button_double{position:relative}.keyboard-button_double p{margin:0}.keyboard-button_double .passive{font-size:15px;position:absolute;top:3px;left:5px;color:#7a7a7a}\n",""]),e.exports=n},function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=function(e,n){var t=e[1]||"",i=e[3];if(!i)return t;if(n&&"function"==typeof btoa){var o=(r=i,d=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(d),"/*# ".concat(u," */")),a=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[t].concat(a).concat([o]).join("\n")}var r,d,u;return[t].join("\n")}(n,e);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,i){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(i)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(o[r]=!0)}for(var d=0;d<e.length;d++){var u=[].concat(e[d]);i&&o[u[0]]||(t&&(u[2]?u[2]="".concat(t," and ").concat(u[2]):u[2]=t),n.push(u))}},n}},function(e,n,t){"use strict";t.r(n);t(0);var i=[{id:192,size:1,func:!1,name:{en:{normal:"`",shifted:"~",double:!0},ru:{normal:"ё",shifted:"Ё",double:!1}}},{id:49,size:1,func:!1,name:{en:{normal:"1",shifted:"!",double:!0},ru:{normal:"1",shifted:"!",double:!0}}},{id:50,size:1,func:!1,name:{en:{normal:"2",shifted:"@",double:!0},ru:{normal:"2",shifted:'"',double:!0}}},{id:51,size:1,func:!1,name:{en:{normal:"3",shifted:"#",double:!0},ru:{normal:"3",shifted:"№",double:!0}}},{id:52,size:1,func:!1,name:{en:{normal:"4",shifted:"$",double:!0},ru:{normal:"4",shifted:";",double:!0}}},{id:53,size:1,func:!1,name:{en:{normal:"5",shifted:"%",double:!0},ru:{normal:"5",shifted:"%",double:!0}}},{id:54,size:1,func:!1,name:{en:{normal:"6",shifted:"^",double:!0},ru:{normal:"6",shifted:":",double:!0}}},{id:55,size:1,func:!1,name:{en:{normal:"7",shifted:"&",double:!0},ru:{normal:"7",shifted:"?",double:!0}}},{id:56,size:1,func:!1,name:{en:{normal:"8",shifted:"*",double:!0},ru:{normal:"8",shifted:"*",double:!0}}},{id:57,size:1,func:!1,name:{en:{normal:"9",shifted:"(",double:!0},ru:{normal:"9",shifted:"(",double:!0}}},{id:48,size:1,func:!1,name:{en:{normal:"0",shifted:")",double:!0},ru:{normal:"0",shifted:")",double:!0}}},{id:189,size:1,func:!1,name:{en:{normal:"-",shifted:"_",double:!0},ru:{normal:"-",shifted:"_",double:!0}}},{id:187,size:1,func:!1,name:{en:{normal:"=",shifted:"+",double:!0},ru:{normal:"=",shifted:"+",double:!0}}},{id:8,size:2.5,func:!0,name:"Backspace"},{id:9,size:1.5,func:!0,name:"Tab"},{id:81,size:1,func:!1,name:{en:{normal:"q",shifted:"Q",double:!1},ru:{normal:"й",shifted:"Й",double:!1}}},{id:87,size:1,func:!1,name:{en:{normal:"w",shifted:"W",double:!1},ru:{normal:"ц",shifted:"Ц",double:!1}}},{id:69,size:1,func:!1,name:{en:{normal:"e",shifted:"E",double:!1},ru:{normal:"у",shifted:"У",double:!1}}},{id:82,size:1,func:!1,name:{en:{normal:"r",shifted:"R",double:!1},ru:{normal:"к",shifted:"К",double:!1}}},{id:84,size:1,func:!1,name:{en:{normal:"t",shifted:"T",double:!1},ru:{normal:"е",shifted:"Е",double:!1}}},{id:89,size:1,func:!1,name:{en:{normal:"y",shifted:"Y",double:!1},ru:{normal:"н",shifted:"Н",double:!1}}},{id:85,size:1,func:!1,name:{en:{normal:"u",shifted:"U",double:!1},ru:{normal:"г",shifted:"Г",double:!1}}},{id:73,size:1,func:!1,name:{en:{normal:"i",shifted:"I",double:!1},ru:{normal:"ш",shifted:"Ш",double:!1}}},{id:79,size:1,func:!1,name:{en:{normal:"o",shifted:"O",double:!1},ru:{normal:"щ",shifted:"Щ",double:!1}}},{id:80,size:1,func:!1,name:{en:{normal:"p",shifted:"P",double:!1},ru:{normal:"з",shifted:"З",double:!1}}},{id:219,size:1,func:!1,name:{en:{normal:"[",shifted:"{",double:!0},ru:{normal:"х",shifted:"Х",double:!1}}},{id:221,size:1,func:!1,name:{en:{normal:"]",shifted:"}",double:!0},ru:{normal:"ъ",shifted:"Ъ",double:!1}}},{id:220,size:1,func:!1,name:{en:{normal:"\\",shifted:"|",double:!0},ru:{normal:"\\",shifted:"/",double:!0}}},{id:46,size:1,func:!0,name:"Del"},{id:20,size:2,func:!0,name:"Caps Lock"},{id:65,size:1,func:!1,name:{en:{normal:"a",shifted:"A",double:!1},ru:{normal:"ф",shifted:"Ф",double:!1}}},{id:83,size:1,func:!1,name:{en:{normal:"s",shifted:"S",double:!1},ru:{normal:"ы",shifted:"Ы",double:!1}}},{id:68,size:1,func:!1,name:{en:{normal:"d",shifted:"D",double:!1},ru:{normal:"в",shifted:"В",double:!1}}},{id:70,size:1,func:!1,name:{en:{normal:"f",shifted:"F",double:!1},ru:{normal:"а",shifted:"А",double:!1}}},{id:71,size:1,func:!1,name:{en:{normal:"g",shifted:"G",double:!1},ru:{normal:"п",shifted:"П",double:!1}}},{id:72,size:1,func:!1,name:{en:{normal:"h",shifted:"H",double:!1},ru:{normal:"р",shifted:"Р",double:!1}}},{id:74,size:1,func:!1,name:{en:{normal:"j",shifted:"J",double:!1},ru:{normal:"о",shifted:"О",double:!1}}},{id:75,size:1,func:!1,name:{en:{normal:"k",shifted:"K",double:!1},ru:{normal:"л",shifted:"Л",double:!1}}},{id:76,size:1,func:!1,name:{en:{normal:"l",shifted:"L",double:!1},ru:{normal:"д",shifted:"Д",double:!1}}},{id:186,size:1,func:!1,name:{en:{normal:";",shifted:":",double:!0},ru:{normal:"ж",shifted:"Ж",double:!1}}},{id:222,size:1,func:!1,name:{en:{normal:"'",shifted:'"',double:!0},ru:{normal:"э",shifted:"Э",double:!1}}},{id:13,size:2.5,func:!0,name:"Enter"},{id:"16_l",size:2.5,func:!0,name:"Shift"},{id:90,size:1,func:!1,name:{en:{normal:"z",shifted:"Z",double:!1},ru:{normal:"я",shifted:"Я",double:!1}}},{id:88,size:1,func:!1,name:{en:{normal:"x",shifted:"X",double:!1},ru:{normal:"ч",shifted:"Ч",double:!1}}},{id:67,size:1,func:!1,name:{en:{normal:"c",shifted:"C",double:!1},ru:{normal:"с",shifted:"С",double:!1}}},{id:86,size:1,func:!1,name:{en:{normal:"v",shifted:"V",double:!1},ru:{normal:"м",shifted:"М",double:!1}}},{id:66,size:1,func:!1,name:{en:{normal:"b",shifted:"B",double:!1},ru:{normal:"и",shifted:"И",double:!1}}},{id:78,size:1,func:!1,name:{en:{normal:"n",shifted:"N",double:!1},ru:{normal:"т",shifted:"Т",double:!1}}},{id:77,size:1,func:!1,name:{en:{normal:"m",shifted:"M",double:!1},ru:{normal:"ь",shifted:"ь",double:!1}}},{id:188,size:1,func:!1,name:{en:{normal:",",shifted:"<",double:!0},ru:{normal:"б",shifted:"Б",double:!1}}},{id:190,size:1,func:!1,name:{en:{normal:".",shifted:">",double:!0},ru:{normal:"ю",shifted:"Ю",double:!1}}},{id:191,size:1,func:!1,name:{en:{normal:"/",shifted:"?",double:!0},ru:{normal:".",shifted:",",double:!0}}},{id:38,size:1,func:!0,name:'<i class="fas fa-arrow-up"></i>'},{id:"16_r",size:2,func:!0,name:"Shift"},{id:"17_l",size:1,func:!0,name:"Ctrl"},{id:91,size:1,func:!0,name:"Win"},{id:"18_l",size:1,func:!0,name:"Alt"},{id:32,size:6.5,func:!0,name:""},{id:"18_r",size:1,func:!0,name:"Alt"},{id:"17_r",size:1,func:!0,name:"Ctrl"},{id:37,size:1,func:!0,name:'<i class="fas fa-arrow-left"></i>'},{id:40,size:1,func:!0,name:'<i class="fas fa-arrow-down"></i>'},{id:39,size:1,func:!0,name:'<i class="fas fa-arrow-right"></i>'},{id:"lang",size:1,func:!0,name:{en:"eng",ru:"ru"}}];const o=new class{constructor(){this.keys=i,this.lang="ru",this.state="normal",this.keys.find(e=>"lang"===e.id).func=this.setLanguage.bind(this)}initialize(e,n){i.forEach(t=>{let i=document.createElement("div");i.className="keyboard-button",i.id=t.id,i.style.flexBasis=`calc(100% / 15.5 * ${t.size} - 0.4%)`,t.ref=i,n.appendChild(i),t.func?"lang"===t.id?(i.innerHTML=`<p>${t.name[this.lang]}</p>`,i.addEventListener("mousedown",e=>{e.preventDefault(),t.func()})):i.innerHTML=`<p>${t.name}</p>`:t.name[this.lang].double?(i.className="keyboard-button_double",i.innerHTML=`<p class = "act">${t.name[this.lang].normal}</p><p class = "passive">${t.name[this.lang].shifted}</p>`,i.addEventListener("mousedown",n=>{n.preventDefault(),e.value+=i.querySelector(".act").textContent})):(i.innerHTML=`<p>${t.name[this.lang][this.state]}</p>`,i.addEventListener("mousedown",n=>{n.preventDefault(),e.value+=i.children[0].textContent}))})}setLanguage(){if("ru"===this.lang)this.lang="en",this.updateKeyboard();else{if("en"!==this.lang)throw new Error;this.lang="ru",this.updateKeyboard()}}setState(){if("normal"===this.state)this.state="shifted",this.updateKeyboard();else{if("shifted"!==this.state)throw new Error;this.state="normal",this.updateKeyboard()}}updateKeyboard(){i.forEach(e=>{const n=e.ref;e.func?"lang"===e.id&&(n.innerHTML=`<p>${e.name[this.lang]}</p>`):e.name[this.lang].double?(n.className="keyboard-button_double",n.innerHTML=`<p class = "act">${e.name[this.lang].normal}</p><p class = "passive">${e.name[this.lang].shifted}</p>`):(n.className="keyboard-button",n.innerHTML=`<p>${e.name[this.lang][this.state]}</p>`)})}getKey(e){if(!event.shiftKey||!event.altKey){let n=null,t=null;const o=i.filter(n=>n.id===e||`${e}_l`===n.id||`${e}_r`===n.id);return o.forEach(e=>{e.ref.classList.toggle("active")}),o.length&&(o[0].func?(16!==e&&20!==e||this.setState(),n=e):t=o[0].name[this.lang][this.state]),{func:n,char:t}}this.setLanguage()}},a=document.createElement("main"),r=document.createElement("section"),d=document.createElement("section");r.className="keyboard",d.className="field",document.querySelector("body").appendChild(a),document.querySelector("main").appendChild(d),document.querySelector("main").appendChild(r),d.innerHTML='<form> <textarea autofocus class="input" rows="12" cols="89"></textarea> </form>';const u=document.querySelector("textarea");o.initialize(u,r),document.addEventListener("keydown",e=>{const{func:n,char:t}=o.getKey(e.keyCode);t?(e.preventDefault(),u.value+=t):n&&(e.preventDefault(),console.log(n))}),document.addEventListener("keyup",e=>{e.preventDefault(),o.getKey(e.keyCode)})}]);